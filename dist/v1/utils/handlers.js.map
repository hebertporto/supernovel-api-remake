{"version":3,"sources":["../../../src/v1/utils/handlers.js"],"names":["validationError","internalError","messages","err","req","res","next","status","json","message","VALIDATION_ERROR","payload","errors","INTERNAL_ERROR"],"mappings":";;;;;QAIgBA,e,GAAAA,e;QAWAC,a,GAAAA,a;;AAfhB;;AACA;;IAAYC,Q;;;;AAGL,SAASF,eAAT,CAAyBG,GAAzB,EAA8BC,GAA9B,EAAmCC,GAAnC,EAAwCC,IAAxC,EAA8C;AACnD,MAAIH,iDAAJ,EAAoC;AAClC,WAAOE,IAAIE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,eAASP,SAASQ,gBADQ;AAE1BC,eAASR,IAAIS,MAFa;AAG1BL,cAAQ;AAHkB,KAArB,CAAP;AAKD;AACD,SAAOD,KAAKH,GAAL,CAAP;AACD;;AAEM,SAASF,aAAT,CAAuBE,GAAvB,EAA4BC,GAA5B,EAAiCC,GAAjC,EAAsCC,IAAtC,EAA4C;AACjDA,OAAKD,IAAIE,MAAJ,CAAWJ,IAAII,MAAJ,IAAc,GAAzB,EAA8BC,IAA9B,CAAmC;AACtCG,aAASR,IAAIQ,OAAJ,GAAc,EAAd,GAAmBR,GADU;AAEtCI,YAAQJ,IAAII,MAAJ,IAAc,GAFgB;AAGtCE,aAASN,IAAIM,OAAJ,IAAeP,SAASW;AAHK,GAAnC,CAAL;AAKD","file":"handlers.js","sourcesContent":["import { ValidationError } from 'express-validation'\nimport * as messages from './../config/messages'\n\n\nexport function validationError(err, req, res, next) {\n  if (err instanceof ValidationError) {\n    return res.status(422).json({\n      message: messages.VALIDATION_ERROR,\n      payload: err.errors,\n      status: 422,\n    })\n  }\n  return next(err)\n}\n\nexport function internalError(err, req, res, next) {\n  next(res.status(err.status || 500).json({\n    payload: err.payload ? {} : err,\n    status: err.status || 500,\n    message: err.message || messages.INTERNAL_ERROR,\n  }))\n}\n"]}